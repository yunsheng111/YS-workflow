---
description: '性能分析与优化：覆盖数据库、算法、前端渲染与资源加载，按性价比排序输出优化方案'
---

# Optimize - 性能分析与优化

覆盖数据库查询、算法复杂度、前端渲染与资源加载，按性价比排序输出优化方案。

## 使用方法

```bash
/optimize <优化目标>
```

---

## Level 2: 命令层执行

**执行方式**：Task 调用代理

**代理**：`optimize-agent`

**调用**：
```
Task({
  subagent_type: "optimize-agent",
  prompt: "$ARGUMENTS",
  description: "性能分析与优化"
})
```

---

## Level 3: 工具层执行

**代理调用的工具**：
- 代码检索：`mcp__ace-tool__search_context`
- 用户确认：`mcp______zhi`
- 框架文档：`mcp______context7`
- 浏览器性能：Chrome DevTools MCP

**详细说明**：参考 [optimize-agent.md](../../agents/ccg/optimize-agent.md)

---

## 执行流程（概述）

optimize-agent 将执行以下 5 阶段工作流：

1. **识别性能瓶颈** — 收集性能指标，确认目标值
2. **分析热路径** — 数据库、算法、渲染、加载
3. **提出优化方案** — 按性价比排序
4. **确认优化方案** — 通过 zhi 确认实施顺序
5. **实施优化** — 逐个实施并验证效果

---

## 优化领域

| 领域 | 关注点 |
|------|--------|
| 数据库 | 查询计划、索引、N+1 查询 |
| 算法 | 时间/空间复杂度、不必要计算 |
| 渲染 | 重渲染、大型组件树、阻塞资源 |
| 加载 | Bundle 大小、代码分割、缓存 |

---

## 关键规则

1. **禁止基于假设优化** — 必须先获取实际性能数据
2. **优化方案必须量化预期收益**
3. **每次优化后必须验证效果**
4. **按性价比排序，优先低成本高收益**
