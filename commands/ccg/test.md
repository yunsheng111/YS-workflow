---
description: '测试用例生成：系统化覆盖正常路径、边界条件与异常场景，输出可直接运行的测试代码'
---

# Test - 测试用例生成

系统化覆盖正常路径、边界条件与异常场景，输出可直接运行的测试代码。

## 使用方法

```bash
/test <测试目标>
```

---

## Level 2: 命令层执行

**执行方式**：Task 调用代理

**代理**：`test-agent`

**调用**：
```
Task({
  subagent_type: "test-agent",
  prompt: "$ARGUMENTS",
  description: "测试用例生成"
})
```

---

## Level 3: 工具层执行

**代理调用的工具**：
- 代码检索：`mcp__ace-tool__search_context`
- 用户确认：`mcp______zhi`
- 框架文档：`mcp______context7`
- 浏览器测试：Chrome DevTools MCP

**详细说明**：参考 [test-agent.md](../../agents/ccg/test-agent.md)

---

## 执行流程（概述）

test-agent 将执行以下 5 阶段工作流：

1. **分析目标代码** — 检索待测模块，理解函数签名和依赖
2. **识别测试路径** — 正常路径、边界条件、异常路径、并发竞态
3. **生成测试代码** — 遵循 AAA 模式，合理使用 Mock/Stub
4. **验证测试可运行** — 执行测试，检查覆盖率
5. **E2E 浏览器测试**（可选）— Chrome DevTools 自动化验证

---

## 测试路径覆盖

| 类型 | 说明 |
|------|------|
| 正常路径 | 标准输入 → 预期输出 |
| 边界条件 | 空值、极大值、极小值、类型边界 |
| 异常路径 | 无效输入、网络错误、权限不足 |
| 并发竞态 | 多线程/异步场景下的数据一致性 |

---

## 关键规则

1. **禁止基于假设编写测试** — 必须先检索实际代码逻辑
2. **测试代码必须可直接运行**
3. **使用 AAA 模式**（Arrange-Act-Assert）
4. **边界和异常测试数量不少于正常路径**
