---
version: v1.0
timestamp: YYYY-MM-DDTHH:MM:SSZ
constraints_file: "路径/到/约束集文件.md"
---

# 零决策实施计划：[任务名称]

## 计划元信息

- **提案来源**：[提案文件路径]
- **总步骤数**：[数字]
- **关联约束**：[HC-1, SC-2, DEP-3, RISK-4, ...]
- **预计时间**：[X-Y 天]
- **核心目标**：[一句话描述]

## 实施阶段划分

- **Phase 1: [阶段名称]**（P0，立即实施）- X-Y 天
- **Phase 2: [阶段名称]**（P1，短期实施）- X-Y 天
- **Phase 3: [阶段名称]**（P1，短期实施）- X-Y 天
- **Phase 4: [阶段名称]**（P2，中期实施）- X-Y 天

---

## Phase 1: [阶段名称]（P0 - 立即实施）

### 子任务 1.1：[任务标题]

- **文件范围**：
  - `路径/到/文件1.ext`（新建 / 修改 / 删除）
  - `路径/到/文件2.ext`（新建 / 修改 / 删除）
- **操作类型**：新增 / 修改 / 删除
- **实施步骤**：
  1. [具体步骤 1]
  2. [具体步骤 2]
  3. [具体步骤 3]
- **验收标准**：[如何验证任务完成]
- **约束映射**：[HC-1, SC-2, ...]
- **依赖**：无 / 子任务 X.Y
- **并行分组**：Layer 1 / Layer 2

### 子任务 1.2：[任务标题]

- **文件范围**：
  - `路径/到/文件3.ext`（新建 / 修改 / 删除）
- **操作类型**：新增 / 修改 / 删除
- **实施步骤**：
  1. [具体步骤 1]
  2. [具体步骤 2]
- **验收标准**：[如何验证任务完成]
- **约束映射**：[SC-3, DEP-4, ...]
- **依赖**：无 / 子任务 X.Y
- **并行分组**：Layer 1 / Layer 2

---

## Phase 2: [阶段名称]（P1 - 短期实施）

### 子任务 2.1：[任务标题]

- **文件范围**：
  - `路径/到/文件4.ext`（新建 / 修改 / 删除）
- **操作类型**：新增 / 修改 / 删除
- **实施步骤**：
  1. [具体步骤 1]
  2. [具体步骤 2]
- **验收标准**：[如何验证任务完成]
- **约束映射**：[RISK-5, ...]
- **依赖**：无 / 子任务 X.Y
- **并行分组**：Layer 1 / Layer 2

---

## 文件冲突检查

| 文件路径 | 归属任务 | 状态 |
|----------|----------|------|
| `路径/到/文件1.ext` | 1.1, 2.3 | ⚠️ 多任务修改（已通过依赖关系解决：1.1 → 2.3） |
| `路径/到/文件2.ext` | 1.2 | ✅ 唯一 |

**结论**：✅ 无冲突 / ⚠️ 已通过依赖关系解决所有冲突

---

## 并行分组

### Phase 1
- **Layer 1**（并行）：任务 1.1, 1.2
- **Layer 2**（依赖 Layer 1）：任务 1.3

### Phase 2
- **Layer 1**（并行）：任务 2.1
- **Layer 2**（依赖 Layer 1）：任务 2.2, 2.3

---

## 约束覆盖检查

| 约束编号 | 覆盖步骤 | 状态 |
|----------|----------|------|
| HC-1 | 1.1, 2.2 | ✅ 已覆盖 |
| SC-2 | 1.2 | ✅ 已覆盖 |
| DEP-3 | 无直接覆盖（已在现有架构中遵守） | ✅ 已确认 |

**结论**：✅ 所有约束已覆盖

---

## 依赖关系图

```
Phase 1:
  1.1, 1.2 (并行)
    ↓
  1.3

Phase 2:
  2.1
    ↓
  2.2, 2.3 (并行)
```

---

## 下一步

运行 `/ccg:spec-impl` 按此计划执行实施。

---

## 子任务必填字段

每个子任务必须包含以下 5 个字段：

1. **文件范围**：列出所有涉及的文件及操作类型（新建/修改/删除）
2. **操作类型**：新增 / 修改 / 删除
3. **实施步骤**：具体的执行步骤（编号列表）
4. **验收标准**：如何验证任务完成
5. **约束映射**：关联的约束编号（如 [HC-1, SC-2]）
6. **依赖**：依赖的其他子任务（如"子任务 1.1"）或"无"
7. **并行分组**：Layer 1 / Layer 2（用于并行执行）

## 并行分组规则

- **Layer 1**：无依赖或仅依赖前一阶段的任务，可并行执行
- **Layer 2**：依赖 Layer 1 的任务，必须等待 Layer 1 完成后执行
- 同一 Layer 内的任务可以并行执行
- 不同 Phase 之间必须顺序执行

## 使用说明

1. 复制此模板创建新的计划文件
2. 填写 YAML frontmatter（version, timestamp, constraints_file）
3. 根据实际需求添加或删除阶段和子任务
4. 确保每个子任务包含所有必填字段
5. 检查文件冲突并通过依赖关系解决
6. 使用 `.claude/spec/tools/validate-plan.js` 验证格式
